#!/usr/bin/env bash

dirname="$PWD"

mkdir -p ~/bin
mkdir -p ~/.config
mkdir -p ~/.vim

for file in ./bash/*; do
	name=$(echo "$file" | ack -o '[^\/]*$');
	ln -sF "$dirname/bash/$name" "$HOME/.bash_$name"
done

ln -sf $dirname/vimrc ~/.vimrc
ln -sf $dirname/gitconfig ~/.gitconfig
ln -sf $dirname/gitignore_global ~/.gitignore_global
ln -sf $dirname/ackrc ~/.ackrc
ln -sf $dirname/jshintrc ~/.jshintrc
ln -sf $dirname/tmux.conf ~/.tmux.conf
ln -sf $dirname/git_diff_wrapper ~/bin/git_diff_wrapper
ln -sf $dirname/ploy_sync ~/bin/8888
ln -sf $dirname/powerline ~/.config/

if [ ! -d "$HOME/.vim/colors" ]; then
	ln -s $dirname/vim/colors ~/.vim/colors
fi

if [ ! -d "$HOME/.vim/after" ]; then
	ln -s $dirname/vim/after ~/.vim/after
fi

source ~/.bash_profile
vim +BundleInstall +qall
